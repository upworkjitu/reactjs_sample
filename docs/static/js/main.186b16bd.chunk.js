(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,a){},35:function(e,t,a){e.exports=a(71)},42:function(e,t,a){},44:function(e,t,a){},65:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(14),s=a.n(r),i=(a(40),a(42),a(9)),o=a(10),c=a(12),u=a(11),m=a(13),h=(a(44),a(73)),d=a(75),p=a(72),g=a(8),f=a(74),v=a(76),E=a(32),b=a.n(E),y=function(e,t,a){b.a.get("https://swapi.co/api/"+e).then(function(e){t(e)}).catch(function(e){a(e)})},O=(a(65),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={username:"",password:"",error:"",toDashboard:!1},e.handlePassChange=e.handlePassChange.bind(Object(g.a)(Object(g.a)(e))),e.handleUserChange=e.handleUserChange.bind(Object(g.a)(Object(g.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(g.a)(Object(g.a)(e))),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"dismissError",value:function(){this.setState({error:""})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.state.username?this.state.password?this.validateStarWarsUser():alert("Password is required"):alert("Username is required")}},{key:"validateStarWarsUser",value:function(){var e=this;y("people",function(t){if(t.hasOwnProperty("data")){var a=t.data.results;e.isUserExist(a)?(console.log("Valid User."),e.setState({toDashboard:!0})):alert("Invalid Username or Password.")}else alert("User does not exist.")},function(e){alert("Internal server error.")})}},{key:"isUserExist",value:function(e){for(var t=0;t<e.length;t++)if(e[t].name===this.state.username&&e[t].birth_year===this.state.password)return!0;return!1}},{key:"handleUserChange",value:function(e){this.setState({username:e.target.value})}},{key:"handlePassChange",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){return!0===this.state.toDashboard?l.a.createElement(f.a,{to:"/home"}):l.a.createElement("div",{className:"loginPage"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement("b",null,"Username")),l.a.createElement("input",{type:"text",placeholder:"Enter Username",name:"uname",onChange:this.handleUserChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement("b",null,"Password")),l.a.createElement("input",{type:"password",placeholder:"Enter Password",name:"psw",onChange:this.handlePassChange})),l.a.createElement("button",{type:"submit",className:"submitbutton"},"Login"))))}}]),t}(n.Component)),S=Object(v.a)(O),P=a(3),j=(a(30),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={planetsList:[],isLogout:!1,isPlanetDetail:!1,planetURL:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"_handleSearchKeyPress",value:function(e){var t=this;console.log("key pressed"+e.target.value),y("planets/?search="+e.target.value,function(e){for(var a=e.data.results,n=[],l=0;l<a.length;l++)"unknown"!==a[l].population&&n.push(a[l]);n.sort(function(e,t){return t.population-e.population}),t.setState({planetsList:n}),console.log(JSON.stringify(n))},function(e){alert("No data available for this search.")})}},{key:"_displayLoginPage",value:function(e){this.setState({isLogout:!0})}},{key:"_displayPlanetDetail",value:function(e){var t=this.state.planetsList[e].url;this.setState({planetURL:t,isPlanetDetail:!0})}},{key:"render",value:function(){var e=this;return!0===this.state.isLogout?l.a.createElement(f.a,{to:"/login"}):this.state.isPlanetDetail?l.a.createElement(f.a,{to:{pathname:"/planetdetail",state:{planetURL:this.state.planetURL}}}):l.a.createElement("div",{className:"container"},l.a.createElement(P.i,{color:"light",light:!0,expand:"md"},l.a.createElement(P.a,{outline:!0,size:"sm",color:"danger",className:"ml-auto",onClick:function(){return e._displayLoginPage()}},"Logout")),l.a.createElement("div",{className:"searchPage"},l.a.createElement("input",{type:"text",id:"myInput",placeholder:"Search for planets..",title:"Type in a name",onKeyUp:function(t){e._handleSearchKeyPress(t)}}),l.a.createElement("div",null,this.state.planetsList.map(function(t,a){var n=10*a+"px";return l.a.createElement("div",{key:a,className:"cardWrapper",style:{width:"calc(80% - "+n+")"}},l.a.createElement(P.b,{outline:!0,color:"success"},l.a.createElement(P.e,null,t.name),l.a.createElement(P.c,null,l.a.createElement(P.h,null,"Population: ",t.population),l.a.createElement(P.f,null,"Diameter: ",t.diameter),l.a.createElement(P.g,null,"Created on: ",t.created)),l.a.createElement(P.d,{className:"text-muted"},l.a.createElement(P.a,{color:"success",onClick:function(){return e._displayPlanetDetail(a)}},"View"))))}))))}}]),t}(n.Component)),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={isLogout:!1,planetURL:"",planetDetail:{},isLoading:!0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.state.planetURL;console.log(e);var t=(e=e.endsWith("/")?e.slice(0,-1):e).substring(e.lastIndexOf("/")+1,e.length);this.getPlanetDetailsFromServer(t)}},{key:"getPlanetDetailsFromServer",value:function(e){var t=this;console.log("planetURL "+e),y("planets/"+e,function(e){t.setState({isLoading:!1});var a=e.data;t.setState({planetDetail:a}),console.log(JSON.stringify(a))},function(e){alert("No data available for this planet.")})}},{key:"_displayLoginPage",value:function(){this.setState({isLogout:!0})}},{key:"render",value:function(){var e=this;return this.state.isLogout?l.a.createElement(f.a,{to:"/login"}):this.state.isLoading?null:l.a.createElement("div",{className:"container"},l.a.createElement(P.i,{color:"light",light:!0,expand:"md"},l.a.createElement(P.a,{outline:!0,size:"sm",color:"danger",className:"ml-auto",onClick:function(){return e._displayLogingPage()}},"Logout")),l.a.createElement("div",{className:"searchPage"},l.a.createElement("div",null,l.a.createElement("div",{className:"cardWrapper"},l.a.createElement(P.b,{outline:!0,color:"success"},l.a.createElement(P.e,null,this.state.planetDetail.name),l.a.createElement(P.c,null,l.a.createElement(P.h,null,"Population: ",this.state.planetDetail.population),l.a.createElement(P.f,{className:"cardSubTitle"},"Diameter: ",this.state.planetDetail.diameter),l.a.createElement(P.f,{className:"cardSubTitle"},"Gravity: ",this.state.planetDetail.gravity),l.a.createElement(P.f,{className:"cardSubTitle"},"Climate: ",this.state.planetDetail.climate),l.a.createElement(P.f,{className:"cardSubTitle"},"Terrain: ",this.state.planetDetail.terrain),l.a.createElement(P.f,{className:"cardSubTitle"},"Orbital Period: ",this.state.planetDetail.orbital_period),l.a.createElement(P.f,{className:"cardSubTitle"},"Edited on: ",this.state.planetDetail.edited)),l.a.createElement(P.d,{className:"text-muted"}))))))}}]),t}(n.Component),L=l.a.createElement(h.a,null,l.a.createElement(d.a,null,l.a.createElement(p.a,{component:S,exact:!0,path:"/"}),l.a.createElement(p.a,{component:S,exact:!0,path:"/login"}),l.a.createElement(p.a,{exact:!0,component:j,path:"/home"}),l.a.createElement(p.a,{exact:!0,component:w,path:"/planetdetail"}))),k=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,L)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,2,1]]]);
//# sourceMappingURL=main.186b16bd.chunk.js.map